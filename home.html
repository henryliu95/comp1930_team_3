<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Home</title>
    <link rel="stylesheet" href="./css/background.css">
    <link rel="stylesheet" href="./css/radio.css">
    <link rel="stylesheet" href="./css/home_search_bar.css">
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyC79Hh-cfEC11x5_p5XLI2hlkXZUUQSooo",
        authDomain: "keep-it-fresh-ddf5f.firebaseapp.com",
        databaseURL: "https://keep-it-fresh-ddf5f.firebaseio.com",
        projectId: "keep-it-fresh-ddf5f",
        storageBucket: "keep-it-fresh-ddf5f.appspot.com",
        messagingSenderId: "935147192047"
      };
      firebase.initializeApp(config);
    </script>
</head>
<body>
    <div id="header">
        <div id="header_sns">
            <div id="sns_wrapper"> 
                <div class="sns_item"><a href="./sign_in.html" class="sign" id="login">LOGIN/REGISTER</a></div>
            </div>
        </div>
        <div id="header_nav">
            <div id="nav_wrapper">
                <div class="nav_item"><a href="./information.html">INFO</a></div>
                <div class="nav_item"><a href="./tracking.html">TRACK</a></div>
                <div class="nav_item logo"><a id="logo" href="./home.html">KEEP IT<br/>FRESH</a></div>
                <div class="nav_item"><a href="./forum.html">FORUM</a></div>
                <div class="nav_item"><a href="./about.html">ABOUT US</a></div>
            </div>
        </div>
    </div>
    <div id="content">
        <div id="radio_btn">
            <div class="toggle">
                <input type="radio" name="sizeBy" value="weight" id="info" checked="checked" />
                <label id="info_label" for="info">INFO</label>
                <input type="radio" name="sizeBy" value="dimensions" id="track" />
                <label id="track_label" for="track">TRACK</label>
            </div>
        </div>
        <div id="search_bar">
            <input id="textBox" type="text" placeholder="#Banana #Tomato #Milk">
            <button id="submit_btn" type="submit" onclick="clickButton()">ADD</button>
        </div>
    </div>
	<script>
		let btn = document.getElementById('submit_btn');
		function pageLoad(){
			let infoChecked = document.getElementById("info");
			let trackChecked = document.getElementById("track");


			if (infoChecked.checked){
				location.href = "./information.html"
			}else if (trackChecked.checked){
				location.href =  "./tracking.html"
			}
		}
		function setItemToStorage(){
			localStorage.setItem("testName", document.getElementById("textBox").value);
		}

		function clickButton(){
			setItemToStorage();
			pageLoad();
		}

        function change_login(){
            firebase.auth().onAuthStateChanged(function(user) {
              if (user) {
                // User is signed in.
                console.log("below is the UID of the logged in storage.")
                console.log(user.uid)
                document.getElementById("login").innerHTML = "SIGN OUT";
              } else {
                // No user is signed in.
                console.log("no user signed in at the moment")
              }
            });
                    }
        change_login();
	</script>
</body>
</html>